import matplotlib.pyplot as plt
from matplotlib.ticker import FormatStrFormatter
import datetime

def show_figure(train_loss_history, train_acc_history, test_acc_history):
    epochs=len(train_loss_history)
    _, ax = plt.subplots()
    ax.set_xlabel('Epoch')
    ax.set_xlim([1, epochs])
    ax.set_ylim([0, 3])
    ax.set_title('Training and Test Accuracy')
    ax.plot(list(range(1, epochs+1)), train_loss_history, label='Train Loss')
    ax.plot(list(range(1, epochs+1)), train_acc_history, label='Train Acc')
    ax.plot(list(range(1, epochs+1)), test_acc_history, label='Test Acc')
    ax.legend(fontsize=12)
    ax.xaxis.set_major_locator(plt.MaxNLocator(integer=True))
    ax.xaxis.set_major_formatter(FormatStrFormatter('%d'))
    now = datetime.datetime.now().strftime("%Y-%m-%d_%H-%M-%S")
    new_filename = "figure_" + now + ".png"
    plt.savefig("figure/" + new_filename)