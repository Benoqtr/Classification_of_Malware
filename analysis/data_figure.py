import matplotlib.pyplot as plt
import pickle
import itertools

if __name__ == '__main__':
    with open('adjusted_files.pkl', 'rb') as f:
    # with open('files.pkl', 'rb') as f:
        labels = pickle.load(f)
        files = pickle.load(f)

    # text_data=[list(itertools.chain(*x)) for x in files]

    text_data = files
    # for i in files:
    #     for j in i:
    #         text_data.append(j)

    ls=[]
    for i in text_data:
        ls.append(len(i))

    m=max(ls)
    print(m)

    # convert_input_to_word2vec(text_data, model)    

    # 生成一个随机数组

    # 绘制直方图
    n, bins, patches = plt.hist(ls, bins=50, alpha=0.2, edgecolor='black')

    # 添加标题和标签
    plt.title("Distribution of Random Data")
    plt.xlabel("Value")
    plt.ylabel("Frequency")

    # 在每个区间中添加元素数量标注
    for i in range(len(patches)):
        plt.text(bins[i], n[i], str(int(n[i])), ha='center', va='bottom')

    # 显示图形
    plt.show()   